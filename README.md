# Ping-Pong Game

## Описание проекта

В рамках учебной практики было необходимо закрепить полученные знания по C++ на дисциплине «Основы программирования», написав цельное достаточно объемное приложение. Ping Pong Game — это аркадная игра, которая предлагает два режима игры. В первом режиме вы можете сыграть против искусственного интеллекта, во втором — сразиться с другом на одном устройстве. Зарабатывайте очки за каждый забитый мяч чтобы победить.

![Изображение проекта](https://github.com/jeyvvv/gamecpp/blob/master/game1.jpg)
![Изображение проекта](https://github.com/jeyvvv/gamecpp/blob/master/game2.jpg)
![Видео демонстрация проекта](https://github.com/jeyvvv/gamecpp/blob/master/video%20showcase.mp4)

## Основные моменты

- **Макросы для определения состояния кнопок**: (is_down, pressed, released). Переменные для позиции и скорости игроков и мяча, размера арены, счета и др.
- **Функция simulate_player**: Обработка движения игроков с учётом ускорения, скорости и границ арены. Уравнения движения включают демпфирование скорости.
- **Основная функция simulate_game**: Управление игровым процессом в зависимости от текущего режима. В игровом режиме обрабатывается ввод от игроков или искусственного интеллекта, движение мяча и игроков, проверка столкновений и обновление счёта. В режиме меню обрабатываются ввод и переключение между режимами однопользовательской и многопользовательской игры.
- **Искусственный интеллект (AI) для врага**: Простая логика движения вражеского игрока, следящего за положением мяча.
- **Функция aabb_vs_aabb**: Проверка пересечения двух прямоугольников (Axis-Aligned Bounding Box), используемая для столкновений игроков и мяча.
  
## Уникальные составляющие проекта

- **Два режима игры**: Один против искусственного интеллекта и другой для игры вдвоем на одном устройстве.
- **Система очков**: Зарабатывайте очки за каждый забитый мяч.
- **Простое управление**: Интуитивно понятное управление для всех возрастов.

## Техническое описание проекта

1. **Глобальная переменная для управления состоянием игры:**

    ```bash
    global_variable bool running = true;
    ```

2. **Функция обратного вызова для обработки сообщений окна, таких как закрытие и изменение размера:**

    ```env
    LRESULT CALLBACK window_callback(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam) {
    LRESULT result = 0;
    switch (uMsg) {
        case WM_CLOSE:
        case WM_DESTROY: {
            running = false;
        } break;
        // Обработка других сообщений...
    }
    return result;
   }
    ```

3. **Основная функция, выполняющая создание окна, настройку и запуск основного игрового цикла:**

    ```bash
    int WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int nShowCmd) {
    ShowCursor(FALSE);
    // Создание и регистрация класса окна...
    HWND window = CreateWindow(...);
    // Основной игровой цикл...
    while (running) {
        // Обработка ввода...
        simulate_game(&input, delta_time);
        // Рендеринг кадра...
    }
   }
    ```

4. **Функция для очистки экрана заданным цветом:**

    ```bash
    void clear_screen(u32 color) {
    u32* pixel = (u32*)render_state.memory;
    for (int y = 0; y < render_state.height; y++) {
        for (int x = 0; x < render_state.width; x++) {
            *pixel++ = color;
        }
    }
   }
    ```
    
5. **Функция для симуляции движения игрока:**

    ```bash
    void simulate_player(Player* player, float dt) {
    if (player->up) player->y += player->speed * dt;
    if (player->down) player->y -= player->speed * dt;
    // Ограничение движения игрока в пределах арены...
   }
    ```

6. **Основная функция для симуляции игрового процесса:**
  ```bash
   void simulate_game(Input* input, float dt) {
    // Обработка ввода и обновление состояния игроков...
    simulate_player(&player1, dt);
    simulate_player(&player2, dt);
    // Обновление позиции мяча и проверка столкновений...
  }
  ```
